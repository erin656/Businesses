<!doctype html>

<html lang="en">
<head>
  <meta charset="utf-8">

  <title>Amendola Plaza Redesign</title>
  <meta name="description" content="Amendola Plaza Redesign">
  <meta name="author" content="SitePoint">

  <!-- <link rel="stylesheet" href="css/styles.css?v=1.0"> -->

  <!--[if lt IE 9]>
  <script src="http://html5shiv.googlecode.com/svn/trunk/html5.js"></script>
  <![endif]-->
  <link rel="stylesheet" href="http://cdn.leafletjs.com/leaflet/v0.7.7/leaflet.css" />
   <style type="text/css">


    body, html {
      font-family: sans-serif;
    }
 
    #myMap {
      width: 100%;
      height: 500px;
      background-color: gray;
    }

  </style>
</head>

<body>
<h1> Pelham Bay Business District Directory </h1>
<p> This is a guide to restaurants, shops, and services along Westchester Avenue in the northeastern Bronx neighborhood of Pelham Bay.
</p>

  <div id="myMap"></div>
  
  <script src="http://cdn.leafletjs.com/leaflet/v0.7.7/leaflet.js"></script>
  <script src="https://code.jquery.com/jquery-2.2.0.min.js"></script>
  <script type="text/javascript">

  //CartoDB Basemap
 var layer = L.tileLayer('http://{s}.basemaps.cartocdn.com/light_all/{z}/{x}/{y}.png', {
  attribution: '&copy; <a href="http://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors, &copy; <a href="http://cartodb.com/attributions">CartoDB</a>'
});
 
var map = L.map('myMap', {
  scrollWheelZoom: false,
  center: [40.852080,-73.827830],
  zoom: 13
});

<div id="pointdata"></div>
  <script type="text/javascript" src="Businessesformatted.js"></script>
   <script type="text/javascript" src="AmendolaBusinesses.js"></script>

map.addLayer(layer);

  L.geoJson('pointdata').addTo(map);

// var pointdata =
//  '{"Name": "mkyong","age": 30,"address": {"streetAddress": "88 8nd Street","city": "New York"},"phoneNumber": [{"type": "home","number": "111 111-1111"},{"type": "fax","number": "222 222-2222"}]}';
 // '{"name": "mkyong","age": 30,"address": {"streetAddress": "88 8nd Street","city": "New York"},"phoneNumber": [{"type": "home","number": "111 111-1111"},{"type": "fax","number": "222 222-2222"}]}';

  // var Amendola Plaza = [40.706913,-73.987513];
  // var Wilkinson Plaza = [40.788129,-73.974509];
  // var Area = [40.852080,-73.827830];
  // var myZoom = 17;

  //now the fun stuff:  leaflet!
  // var map = L.map('myMap').setView(Area, myZoom);
  // map.addLayer(layer)
  // //Let's add a marker
  // var marker = L.marker([40.768058,-73.981891]).addTo(map);

  //Now let's use our custom-made array to make many markers
  myMapData.forEach(function(element) {
    var marker = L.marker(element.coord).addTo(map);
    marker.bindPopup(element.Name)
  });

(function () {

  var myData;

//   function test(callback) {
//     $.getJSON('notebook-json-data.php', function (data) {
//       callback(data);
//     });
//   }

//   test(function (data) {
//     myData = data;
//     autoPopulate('field', 'id');
//   });

//   function autoPopulate(field, id) {
//     console.log(myData);
//   }

// });

  // var panOptions = {
  //   animate: true,
  //   duration: 2
  // }

  </script>
</body>
</html>
